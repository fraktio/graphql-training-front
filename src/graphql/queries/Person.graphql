fragment Adult on Adult {
  employers {
    id
    name
  }
}


query NewestPersons {
  newestPersons {
    firstName
    lastName
    id
    birthday
    age @client
    ...Adult
  }
}

mutation AddPerson($input: AddPersonInput!) {
  addPerson(input: $input) {
    ... on AddPersonSuccess {
      person {
        id
        firstName
        lastName
        birthday
      }
    }
    ... on UniqueConstraintViolationFailure {
      message
      field
    }
  }
}

fragment FullPerson on Person {
  id
  firstName
  lastName
  phone
  email
  nationality
  birthday
  gender
  personalIdentityCode
}

query Person($input: PersonInput!) {
  person(input: $input) {
    ... FullPerson
  }
}

mutation EditPerson($input: EditPersonInput!) {
  editPerson(input: $input) {
    ... on EditPersonSuccess {
      person {
        ... FullPerson
      }
    }
    ... on UniqueConstraintViolationFailure {
      message
      field
    }
  }
}
